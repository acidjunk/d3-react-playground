(this["webpackJsonpd3-react-playground"]=this["webpackJsonpd3-react-playground"]||[]).push([[0],{29:function(t,e,n){},34:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);n(29);var c=n(0),i=n.n(c),a=n(23),r=n.n(a),s=n(4),o=(n(34),n(19)),u=n(1),l=i.a.createContext(null),f=function(t){var e=Object(c.useRef)(null),n=Object(c.useState)({}),i=Object(s.a)(n,2),a=i[0],r=i[1],o=Object(c.useState)(null),f=Object(s.a)(o,2),d=f[0],h=f[1];Object(c.useEffect)((function(){r(e.current.getBoundingClientRect())}),[]),Object(c.useEffect)((function(){return window.addEventListener("resize",j),function(){window.removeEventListener("resize",j)}}),[]);var j=function(){clearTimeout(d),h(setTimeout((function(){r(e.current.getBoundingClientRect())}),t.debounce))};return Object(u.jsx)("div",{ref:e,style:{height:"100%"},children:Object(u.jsx)(l.Provider,{value:a,children:t.children})})};f.defaultProps={debounce:100};var d,h=n(24),j=n(46),b=n(45),g=n(44),m=(n(37),function t(e){var n=this;Object(h.a)(this,t),this.init=function(t,e){n.setDims(e),n.setScales(),n.chart=n.svg.append("g"),n.chart.attr("transform","translate(".concat(n.margin.left,", ").concat(n.margin.top,")")),n.createAxes(),n.updateData(t)},this.setDims=function(t){n.dims=t,n.innerHeight=n.dims.height-(n.margin.top+n.margin.bottom),n.innerWidth=n.dims.width-(n.margin.left+n.margin.right)},this.setScales=function(){n.xScale=Object(b.a)().domain([0,9]).range([0,n.innerWidth]),n.yScale=Object(b.a)().domain([0,10]).range([n.innerHeight,0])},this.createAxes=function(){n.scaleAxes(),n.xAxisBottomG=n.chart.append("g").attr("transform","translate(0, ".concat(n.innerHeight,")")).call(n.xAxisBottom),n.yAxisLeftG=n.svg.append("g").attr("transform","translate(".concat(n.margin.left,", ").concat(n.margin.top,")")).call(n.yAxisLeft)},this.scaleAxes=function(){n.xAxisBottom=Object(j.a)().scale(n.xScale).tickSize(-n.innerHeight),n.yAxisLeft=Object(j.b)().scale(n.yScale).tickSize(-n.innerWidth)},this.updateData=function(t){n.data=t,n.allCircles=n.chart.selectAll(".myCircle").data(n.data),n.allCircles.transition().duration(500).attr("cx",(function(t,e){return n.xScale(e)})).attr("cy",(function(t){return n.yScale(t)})).attr("fill","orange"),n.enter()},this.enter=function(){n.allCircles.enter().append("circle").attr("class","myCircle").attr("r",10).attr("cx",(function(t,e){return n.xScale(e)})).attr("cy",(function(t){return n.yScale(t)})).attr("fill","green"),n.exit()},this.exit=function(){n.allCircles.exit().remove()},this.updateAxes=function(){n.scaleAxes(),n.xAxisBottomG.attr("transform","translate(0, ".concat(n.innerHeight,")")).call(n.xAxisBottom),n.yAxisLeftG.call(n.yAxisLeft)},this.updateDims=function(t){n.setDims(t),n.setScales(n.dims),n.updateAxes(),n.circles=n.chart.selectAll(".myCircle").transition().duration(500).attr("cx",(function(t,e){return n.xScale(e)})).attr("cy",(function(t){return n.yScale(t)}))},this.svg=Object(g.a)(e).append("svg"),this.svg.attr("width","100%").attr("height","100%"),this.margin={top:20,left:30,bottom:20,right:30}}),x={display:"grid",height:"100%"},O=(d=function(t){var e=t.dims,n=t.data,i=Object(c.useRef)(null),a=Object(c.useState)(null),r=Object(s.a)(a,2),o=r[0],l=r[1],f=Object(c.useState)(!1),d=Object(s.a)(f,2),h=d[0],j=d[1];return Object(c.useEffect)((function(){l((function(){return new m(i.current)}))}),[]),Object(c.useEffect)((function(){h&&o.updateDims(e)}),[e]),Object(c.useEffect)((function(){h&&o.updateData(n)}),[n]),Object(c.useEffect)((function(){n.length>1&&e.width&&!1===h&&(o.init(n,e),j((function(){return!0})))}),[n,e]),Object(u.jsx)("div",{ref:i,style:x})},function(t){return Object(u.jsx)(l.Consumer,{children:function(e){return Object(u.jsx)(d,Object(o.a)(Object(o.a)({},t),{},{dims:e}))}})});var p=function(){var t=Object(c.useState)([]),e=Object(s.a)(t,2),n=e[0],i=e[1],a=function(){for(var t=[],e=0;e<30;e++)t.push(Math.round(10*Math.random()));i(t)};return Object(c.useEffect)((function(){return a()}),[]),Object(u.jsx)("div",{className:"myLayout",children:Object(u.jsxs)("div",{className:"coolThing",children:[Object(u.jsx)("button",{onClick:a,children:"update data"}),Object(u.jsx)(f,{children:Object(u.jsx)(O,{data:n})})]})})},v=function(t){t&&t instanceof Function&&n.e(3).then(n.bind(null,48)).then((function(e){var n=e.getCLS,c=e.getFID,i=e.getFCP,a=e.getLCP,r=e.getTTFB;n(t),c(t),i(t),a(t),r(t)}))};r.a.render(Object(u.jsx)(i.a.StrictMode,{children:Object(u.jsx)(p,{})}),document.getElementById("root")),v()}},[[38,1,2]]]);
//# sourceMappingURL=main.e103ab89.chunk.js.map